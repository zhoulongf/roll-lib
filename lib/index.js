let timeout=null;function debounce(t,e=500,r=!1){null!==timeout&&clearTimeout(timeout),r?(r=!timeout,timeout=setTimeout(function(){timeout=null},e),r&&"function"==typeof t&&t()):timeout=setTimeout(function(){"function"==typeof t&&t()},e)}function isArray(t){return"[object Array]"===Object.prototype.toString.call(t)}function deepClone(t){if([null,void 0,NaN,!1].includes(t))return t;if("object"!=typeof t&&"function"!=typeof t)return t;var e,r=isArray(t)?[]:{};for(e in t)t.hasOwnProperty(e)&&(r[e]="object"==typeof t[e]?deepClone(t[e]):t[e]);return r}function deepMerge(t={},e={}){if("object"!=typeof(t=deepClone(t))||"object"!=typeof e)return!1;for(var r in e)e.hasOwnProperty(r)&&(!(r in t)||"object"!=typeof t[r]||"object"!=typeof e[r]?t[r]=e[r]:t[r].concat&&e[r].concat?t[r]=t[r].concat(e[r]):t[r]=deepMerge(t[r],e[r]));return t}function guid(e=32,t=!0,r=null){var n,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");let a=[];if(r=r||o.length,e)for(let t=0;t<e;t++)a[t]=o[0|Math.random()*r];else{a[8]=a[13]=a[18]=a[23]="-",a[14]="4";for(let t=0;t<36;t++)a[t]||(n=0|16*Math.random(),a[t]=o[19==t?3&n|8:n])}return t?(a.shift(),"u"+a.join("")):a.join("")}function queryParams(t={},e=!0,o="brackets"){e=e?"?":"";let a=[];-1==["indices","brackets","repeat","comma"].indexOf(o)&&(o="brackets");for(let n in t){let r=t[n];if(!(0<=["",void 0,null].indexOf(r)))if(r.constructor===Array)switch(o){case"indices":for(let t=0;t<r.length;t++)a.push(n+"["+t+"]="+r[t]);break;case"brackets":r.forEach(t=>{a.push(n+"[]="+t)});break;case"repeat":r.forEach(t=>{a.push(n+"="+t)});break;case"comma":let e="";r.forEach(t=>{e+=(e?",":"")+t}),a.push(n+"="+e);break;default:r.forEach(t=>{a.push(n+"[]="+t)})}else a.push(n+"="+r)}return a.length?e+a.join("&"):""}function random(t,e){if(0<=t&&0<e&&t<=e){e=e-t+1;return Math.floor(Math.random()*e+t)}return 0}function randomArray(t=[]){return t.sort(()=>Math.random()-.5)}function email(t){return/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(t)}function mobile(t){return/^1[3-9]\d{9}$/.test(t)}function url(t){return/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w-.\/?%&=]*)?/.test(t)}function date(t){return!/Invalid|NaN/.test(new Date(t).toString())}function dateISO(t){return/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)}function number(t){return/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)}function digits(t){return/^\d+$/.test(t)}function idCard(t){return/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(t)}function carNo(t){return 7===t.length?/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳]{1}$/.test(t):8===t.length&&/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}(([0-9]{5}[DF]$)|([DF][A-HJ-NP-Z0-9][0-9]{4}$))/.test(t)}function amount(t){return/^[1-9]\d*(,\d{3})*(\.\d{1,2})?$|^0\.\d{1,2}$/.test(t)}function chinese(t){return/^[\u4e00-\u9fa5]+$/gi.test(t)}function letter(t){return/^[a-zA-Z]*$/.test(t)}function enOrNum(t){return/^[0-9a-zA-Z]*$/g.test(t)}function contains(t,e){return 0<=t.indexOf(e)}function range(t,e){return t>=e[0]&&t<=e[1]}function rangeLength(t,e){return t.length>=e[0]&&t.length<=e[1]}function landline(t){return/^\d{3,4}-\d{7,8}(-\d{3,4})?$/.test(t)}function empty(t){switch(typeof t){case"undefined":return!0;case"string":if(0==t.replace(/(^[ \t\n\r]*)|([ \t\n\r]*$)/g,"").length)return!0;break;case"boolean":if(!t)return!0;break;case"number":if(0===t||isNaN(t))return!0;break;case"object":if(null===t||0===t.length)return!0;for(var e in t)return!1;return!0}return!1}function jsonString(t){if("string"==typeof t)try{var e=JSON.parse(t);return!("object"!=typeof e||!e)}catch(t){return!1}return!1}function array(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}function object(t){return"[object Object]"===Object.prototype.toString.call(t)}function code(t,e=6){return new RegExp(`^\\d{${e}}$`).test(t)}var test={email:email,mobile:mobile,url:url,date:date,dateISO:dateISO,number:number,digits:digits,idCard:idCard,carNo:carNo,amount:amount,chinese:chinese,letter:letter,enOrNum:enOrNum,contains:contains,range:range,rangeLength:rangeLength,empty:empty,isEmpty:empty,jsonString:jsonString,landline:landline,object:object,array:array,code:code};let flag;function throttle(t,e=500,r=!0){r?flag||(flag=!0,"function"==typeof t&&t(),setTimeout(()=>{flag=!1},e)):flag||(flag=!0,setTimeout(()=>{flag=!1,"function"==typeof t&&t()},e))}function timeFormat(t=null,e="yyyy-mm-dd"){10==(t=t||Number(new Date)).toString().length&&(t*=1e3);let r=new Date(t);var n,o;let a={"y+":r.getFullYear().toString(),"m+":(r.getMonth()+1).toString(),"d+":r.getDate().toString(),"h+":r.getHours().toString(),"M+":r.getMinutes().toString(),"s+":r.getSeconds().toString()};for(o in a)(n=new RegExp("("+o+")").exec(e))&&(e=e.replace(n[1],1==n[1].length?a[o]:a[o].padStart(n[1].length,"0")));return e}function timeFrom(t=null,e="yyyy-mm-dd"){10==(t=t||Number(new Date)).toString().length&&(t*=1e3);var r=+new Date(Number(t)),n=(Number(new Date)-r)/1e3;let o="";switch(!0){case n<300:o="刚刚";break;case 300<=n&&n<3600:o=parseInt(n/60)+"分钟前";break;case 3600<=n&&n<86400:o=parseInt(n/3600)+"小时前";break;case 86400<=n&&n<2592e3:o=parseInt(n/86400)+"天前";break;default:o=!1===e?2592e3<=n&&n<31536e3?parseInt(n/2592e3)+"个月前":parseInt(n/31536e3)+"年前":timeFormat(r,e)}return o}function trim(t,e="both"){return"both"==e?t.replace(/^\s+|\s+$/g,""):"left"==e?t.replace(/^\s*/,""):"right"==e?t.replace(/(\s*$)/g,""):"all"==e?t.replace(/\s+/g,""):t}String.prototype.padStart||(String.prototype.padStart=function(t,e=" "){if("[object String]"!==Object.prototype.toString.call(e))throw new TypeError("fillString must be String");if(this.length>=t)return String(this);let r=t-this.length,n=Math.ceil(r/e.length);for(;n>>=1;)e+=e,1===n&&(e+=e);return e.slice(0,r)+this});const $utility={debounce:debounce,deepClone:deepClone,deepMerge:deepMerge,guid:guid,queryParams:queryParams,random:random,randomArray:randomArray,test:test,throttle:throttle,timeFormat:timeFormat,timeFrom:timeFrom,trim:trim},install=t=>{t.prototype.$utility=$utility};var index={install:install};export{debounce,deepClone,deepMerge,index as default,guid,queryParams,random,randomArray,test,throttle,timeFormat,timeFrom,trim};
